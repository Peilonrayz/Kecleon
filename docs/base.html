

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Base &mdash; kecleon 0.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Jobs" href="jobs.html" />
    <link rel="prev" title="Store" href="store.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> kecleon
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="main.html">Main</a></li>
<li class="toctree-l1"><a class="reference internal" href="store.html">Store</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Base</a></li>
<li class="toctree-l1"><a class="reference internal" href="jobs.html">Jobs</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">kecleon</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Base</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/base.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-kecleon.base">
<span id="base"></span><h1>Base<a class="headerlink" href="#module-kecleon.base" title="Permalink to this headline">¶</a></h1>
<p>Base interfaces to add custom transformations.</p>
<p>A <a class="reference internal" href="#kecleon.base.Item" title="kecleon.base.Item"><code class="xref py py-class docutils literal notranslate"><span class="pre">Item</span></code></a> is a small interface wrapping an underlying object.
It can only return text or an iterator of text. The underlying object
can be anything such as a string, bytes, file or HTTP object.
The underlying object doesn’t matter as a subclass will bind it
correctly to the interface.</p>
<p>A <a class="reference internal" href="#kecleon.base.Clerk" title="kecleon.base.Clerk"><code class="xref py py-class docutils literal notranslate"><span class="pre">Clerk</span></code></a> is a job that the cache can perform. For example
downloading a web file, extracting an archive or reading from the
file system.</p>
<dl class="py class">
<dt id="kecleon.base.Clerk">
<em class="property">class </em><code class="sig-prename descclassname">kecleon.base.</code><code class="sig-name descname">Clerk</code><a class="headerlink" href="#kecleon.base.Clerk" title="Permalink to this definition">¶</a></dt>
<dd><p>Interface for managing caches.</p>
<p>Each method take at least one value which with most Kecleon
defined Clerks will be a string. This will be the location to the
file that we need to interact with. Such as the location on disk
or the location on the web.</p>
<p>Ultimately the <code class="docutils literal notranslate"><span class="pre">value</span></code> can be anything that you allow to
identify the cache. For example a custom cache could be passed a
tuple of the source and destination.</p>
<dl class="py method">
<dt id="kecleon.base.Clerk.delete">
<em class="property">abstract </em><code class="sig-name descname">delete</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#kecleon.base.Clerk.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the item from the cached.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="kecleon.base.Clerk.get">
<em class="property">abstract </em><code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#kecleon.base.Clerk.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the item from the cache.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#kecleon.base.Item" title="kecleon.base.Item"><code class="xref py py-class docutils literal notranslate"><span class="pre">Item</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="kecleon.base.Clerk.has_item">
<em class="property">abstract </em><code class="sig-name descname">has_item</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#kecleon.base.Clerk.has_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify if the cache contains the item.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="kecleon.base.Clerk.set">
<em class="property">abstract </em><code class="sig-name descname">set</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#kecleon.base.Clerk.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the cache to the item.</p>
<p>To prevent the system crashing when reading large files,
please always use the stream interface that the
<code class="xref py py-class docutils literal notranslate"><span class="pre">base.Item</span></code> exposes.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="kecleon.base.Item">
<em class="property">class </em><code class="sig-prename descclassname">kecleon.base.</code><code class="sig-name descname">Item</code><a class="headerlink" href="#kecleon.base.Item" title="Permalink to this definition">¶</a></dt>
<dd><p>An abstract interface to provide a layer of compatibly over raw objects.</p>
<p>This provides two interfaces to interact with the containing data.</p>
<ol class="arabic simple">
<li><p>A stream interface, to allow interactions with large files.</p></li>
<li><p>A non-stream interface, to allow convenient interactions with
the data.</p></li>
</ol>
<p>This only returns strings or bytes. This is because parsing should
happen after the procurement of raw data happens.</p>
<dl class="py method">
<dt id="kecleon.base.Item._get_all">
<code class="sig-name descname">_get_all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kecleon.base.Item._get_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Get data as a string or bytes.</p>
<p>This is the internal method for <a class="reference internal" href="#kecleon.base.Item.get_all" title="kecleon.base.Item.get_all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_all()</span></code></a>.
It is what gets the text from the internal object.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.AnyStr" title="(in Python v3.8)"><code class="xref py py-data docutils literal notranslate"><span class="pre">AnyStr</span></code></a></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The entire desired text.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="kecleon.base.Item._get_stream">
<em class="property">abstract </em><code class="sig-name descname">_get_stream</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kecleon.base.Item._get_stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Get data as a stream.</p>
<p>This is the internal method for <a class="reference internal" href="#kecleon.base.Item.get_stream" title="kecleon.base.Item.get_stream"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_stream()</span></code></a>.
It is what gets the stream from the internal object.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterator" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Iterator</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.AnyStr" title="(in Python v3.8)"><code class="xref py py-data docutils literal notranslate"><span class="pre">AnyStr</span></code></a>]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Chunked segments of the desired text.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="kecleon.base.Item.get_all">
<code class="sig-name descname">get_all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kecleon.base.Item.get_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Get data as a string or bytes.</p>
<p>This reads the entire string or bytes into memory. Returning
the entire value at once. This is normally the more convenient
method to interact with. But it can break on larger files.</p>
<p>By default this interface just combines all the data from the
stream interface into one string.</p>
<p>This method ensures that the data is only read once. Since
streams should be the primary interface and getting the same
stream twice is not always possible this method can only be
called once. This should not be overridden by subclasses
unless the subclass ensures that either <a class="reference internal" href="#kecleon.base.Item.get_all" title="kecleon.base.Item.get_all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_all()</span></code></a> or
<a class="reference internal" href="#kecleon.base.Item.get_stream" title="kecleon.base.Item.get_stream"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_stream()</span></code></a> are called a maximum of once.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.AnyStr" title="(in Python v3.8)"><code class="xref py py-data docutils literal notranslate"><span class="pre">AnyStr</span></code></a></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The entire desired text.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="kecleon.base.Item.get_stream">
<code class="sig-name descname">get_stream</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kecleon.base.Item.get_stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Get data as a stream.</p>
<p>Internally we only uses this interface. This is because
some files can exceed the amount of ram a computer has
available. When this happens the computer can grind to a halt
and prevent any and all interactions with the system. To fix
this will require a potentially dangerous hard reboot.</p>
<p>When overriding this method it’s highly recommended to always
use a streaming interface if available. Sometimes this is
not possible in which case notifying the user at creation of
the object is recommended.</p>
<p>This method ensures that the data is only read once. Since
streams should be the primary interface and getting the same
stream twice is not always possible this method can only be
called once. This should not be overridden by subclasses
unless the subclass ensures that either <a class="reference internal" href="#kecleon.base.Item.get_all" title="kecleon.base.Item.get_all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_all()</span></code></a> or
<a class="reference internal" href="#kecleon.base.Item.get_stream" title="kecleon.base.Item.get_stream"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_stream()</span></code></a> are called a maximum of once.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterator" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Iterator</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.AnyStr" title="(in Python v3.8)"><code class="xref py py-data docutils literal notranslate"><span class="pre">AnyStr</span></code></a>]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Chunked segments of the desired text.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="jobs.html" class="btn btn-neutral float-right" title="Jobs" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="store.html" class="btn btn-neutral float-left" title="Store" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Peilonrayz

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>